@main("Annotations") {
    <script src="@routes.Assets.at("lib/angular/ui-bootstrap-tpls-0.14.2.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.at("lib/fileUpload/jquery.ui.widget.js")"></script>
    <script src="@routes.Assets.at("lib/fileUpload/jquery.fileupload.js")"></script>
    <script src="@routes.Assets.at("lib/fileUpload/jquery.iframe-transport.js")"></script>
    <script src="@routes.Assets.at("javascripts/annotations.js")" type="text/javascript"></script>
    <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/annotations.css")">
    <div class="col-lg-10 col-lg-offset-1" ng-app="annotations">
        <annotations-upload>
            <div class="row">
                <div class="box">
                    <div class="box-header">
                        Upload your files here
                    </div>
                    <div class="box-body">
                        <div class="tab-content">
                            <button class="btn btn-red" ng-click="addNewButtonClick()">Add file</button>
                            <form id="fileupload" method="POST" action="" enctype="multipart/form-data" class="hidden_fileupload_form">
                                <input type="file" name="files[]" multiple/>
                            </form>
                        </div>
                        <div class="tab-content" ng-hide="isNewFilesExists()">
                            <div class="text-center">
                                <p>Supported extensions: txt, gz</p>
                                <br>
                                <i class="fa fa-4x fa-file-text-o drag-and-drop-icon"></i>
                            </div>
                        </div>
                        <div class="tab-content" ng-show="isNewFilesExists()">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th class="file_name_th">File name</th>
                                        <th class="software_type_th">Software type</th>
                                        <th class="progress_th">Progress</th>
                                        <th class="tooltip_th"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td></td>
                                        <td>
                                            <select id="common-software-type" ng-model="commonSoftwareType" ng-click="changeCommonSoftwareType()" class="form-control">
                                                <option value="mitcr" >MiTcr</option>
                                                <option value="migec" >MiGec</option>
                                                <option value="simple" >Simple</option>
                                                <option value="igblast" >IgBlast</option>
                                            </select>
                                        </td>
                                        <td></td>
                                        <td><button class="btn btn-red pull-right upload_file_button" ng-click="uploadAll()" ng-show="isWaitingExists()">Upload all</button></td>
                                    </tr>
                                    <tr ng-repeat="file in newFiles" ng-class="{'danger':isError(file), 'success':isSuccess(file), 'warning':isRemoved(file)}">
                                        <td>
                                            <input ng-model="file.fileName" type="text" value="file.fileName" ng-show="isWait(file)" class="form-control"
                                            ng-class="{'input_invalid_name':!isNameValid(file)}" tooltip="Name tooltip" tooltip-placement="top">
                                            <text ng-hide="isWait(file)">{{ file.fileName }}</text>
                                        </td>
                                        <td>
                                            <select id="new-file-software-type" ng-model="file.softwareTypeName" ng-show="isWait(file)" class="form-control">
                                                <option value="mitcr" selected>MiTcr</option>
                                                <option value="migec" >MiGec</option>
                                                <option value="simple" >Simple</option>
                                                <option value="igblast" >IgBlast</option>
                                            </select>
                                            <text ng-hide="isWait(file)">{{ file.softwareTypeName }}</text>
                                        </td>
                                        <td>
                                            <div class="progress progress-sm mbn" ng-show="isOk(file) && !isRemoved(file)">
                                                <div role="progressbar" style="width: {{ file.progress }}%" class="progress-bar progress-bar-success"></div>
                                            </div>
                                            <text ng-show="isError(file)">{{ file.errorTooltip }}</text>
                                        </td>
                                        <td>
                                            <button class="btn btn-red pull-right upload_file_button_smaller" ng-click="uploadFile(file)" ng-show="isWait(file) && isNameValid(file)">Upload</button>
                                            <button class="btn btn-red pull-right remove_file_button" ng-click="removeFile(file)" ng-show="isWait(file)">X</button>
                                            <text ng-hide="isWait(file) || isError(file)" class="pull-right">{{ file.tooltip }}</text>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-content show_results_tab" ng-show="isUploaded()">
                            <button class="btn btn-red pull-right" ng-click="showResults()">Show results</button>
                            <a href="@controllers.annotations.routes.AnnotationsPages.annotationsResultPage()" class="show_results_link">asd</a>
                        </div>
                    </div>
                </div>
            </div>
        </annotations-upload>
    </div>
}